<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{{ title ?? 'MyApp' }}</title>
    {{ (debug ? '' : '.min') | assignTo: min }}
    {{ ['/assets/css/'] | bundleCss({ minify:!debug, cache:!debug, disk:!debug, out:`/css/bundle${min}.css` }) }}
</head>
<body>
    {{ 'buttons,svg-auth' | cssIncludes }}
    {{ 'svg-icons'        | cssIncludes | svgFill('#41B883') }}

    <i hidden>{{ '/js/hot-fileloader.js' | ifDebugIncludeScript }}</i>
    <script>NAV_ITEMS = {{ 'GetNavItems' | execService | json }}</script>
    <script>AUTH = {{ 'Authenticate' | execService({ ifErrorReturn: "null" }) | json }}</script>

    <noscript>
      You need to enable JavaScript to run this app.
    </noscript>

    {{page}}

    {{ [
        `/lib/vue/dist/vue${min}.js`,
        `/lib/vue-router/dist/vue-router${min}.js`,
        '/lib/vue-class-component/vue-class-component.js',
        '/lib/vue-property-decorator/vue-property-decorator.umd.js',
        '/lib/@servicestack/client/servicestack-client.umd.js',
        '/lib/@servicestack/vue/servicestack-vue.umd.js',
    ] | bundleJs({ minify:!debug, cache:!debug, disk:!debug, out:`/js/lib.bundle${min}.js` }) }}

    <script>
        var ALIASES = {
            'vue': { default: Vue },
            'vue-router': { default: VueRouter },
            'vue-class-component': VueClassComponent,
            '@servicestack/vue': ServiceStackVue
        };
        var global = window;
        window.exports = {};
        window.require = function(name) {
            return ALIASES[name] || exports[name] || window[name] || exports;
        };
    </script>

    {{ [
        'content:/src/components/',
        'content:/src/shared/',
        'content:/src/',
    ] | bundleJs({ minify:!debug, cache:!debug, disk:!debug, out:`/js/bundle${min}.js`, iife:true }) }}

    {{ scripts | raw }}

</body>
</html>